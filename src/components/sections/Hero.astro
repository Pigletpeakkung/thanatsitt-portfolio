---
// 🌟 Hero Section - The Alchemical Awakening (Stars Optimized)
import Button from '@ui/Button.astro';
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden">
  <!-- 🜁🜂🜃🜄 Alchemical Symbols with Enhanced GSAP Animation -->
  <div class="absolute inset-0 pointer-events-none z-10" id="alchemical-symbols">
    <!-- 🜁 Air Glyph -->
    <div class="symbol-container absolute top-10 left-1/4 w-8 h-8 md:w-10 md:h-10 cursor-pointer pointer-events-auto" 
         data-element="air" data-meaning="Intellect & Communication">
      <svg viewBox="0 0 24 24" class="w-full h-full text-luna-500 dark:text-luna-300 transition-all duration-300" fill="none" stroke="currentColor">
        <path d="M12 2L2 22h20L12 2z" stroke-width="1.5"/>
        <line x1="8" y1="16" x2="16" y2="16" stroke-width="1"/>
      </svg>
    </div>

    <!-- 🜃 Earth Glyph -->
    <div class="symbol-container absolute bottom-12 right-1/3 w-6 h-6 md:w-8 md:h-8 cursor-pointer pointer-events-auto" 
         data-element="earth" data-meaning="Stability & Foundation">
      <svg viewBox="0 0 24 24" class="w-full h-full text-alchemy-500 dark:text-alchemy-300 transition-all duration-300" fill="none" stroke="currentColor">
        <path d="M12 22L2 2h20L12 22z" stroke-width="1.5"/>
        <line x1="8" y1="8" x2="16" y2="8" stroke-width="1"/>
      </svg>
    </div>

    <!-- 🜂 Fire Glyph -->
    <div class="symbol-container absolute top-1/3 left-8 w-5 h-5 md:w-7 md:h-7 cursor-pointer pointer-events-auto" 
         data-element="fire" data-meaning="Passion & Transformation">
      <svg viewBox="0 0 24 24" class="w-full h-full text-mirror-500 dark:text-mirror-300 transition-all duration-300" fill="none" stroke="currentColor">
        <path d="M12 2L22 22H2L12 2z" stroke-width="1.5"/>
      </svg>
    </div>

    <!-- 🜄 Water Glyph -->
    <div class="symbol-container absolute top-2/3 right-8 w-7 h-7 md:w-9 md:h-9 cursor-pointer pointer-events-auto" 
         data-element="water" data-meaning="Emotion & Intuition">
      <svg viewBox="0 0 24 24" class="w-full h-full text-flow-500 dark:text-flow-300 transition-all duration-300" fill="none" stroke="currentColor">
        <path d="M12 22L2 2h20L12 22z" stroke-width="1.5" transform="rotate(180 12 12)"/>
      </svg>
    </div>

    <!-- ⚗️ Quintessence (5th Element) -->
    <div class="symbol-container absolute top-1/2 right-1/4 w-4 h-4 md:w-6 md:h-6 cursor-pointer pointer-events-auto" 
         data-element="quintessence" data-meaning="Spirit & Unity">
      <svg viewBox="0 0 24 24" class="w-full h-full text-sage-500 dark:text-sage-300 transition-all duration-300" fill="none" stroke="currentColor">
        <circle cx="12" cy="12" r="8" stroke-width="1.5"/>
        <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" stroke-width="1"/>
      </svg>
    </div>

    <!-- ✨ Enhanced Constellation -->
    <svg class="absolute top-1/4 right-10 w-24 h-24 md:w-32 md:h-32 opacity-20" id="constellation" viewBox="0 0 200 200">
      <defs>
        <filter id="glow">
          <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
          <feMerge> 
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      <circle cx="50" cy="50" r="2" fill="currentColor" class="text-alchemy-400" filter="url(#glow)"/>
      <circle cx="100" cy="80" r="2" fill="currentColor" class="text-mirror-400" filter="url(#glow)"/>
      <circle cx="150" cy="40" r="2" fill="currentColor" class="text-luna-400" filter="url(#glow)"/>
      <circle cx="120" cy="120" r="1.5" fill="currentColor" class="text-flow-400" filter="url(#glow)"/>
      <circle cx="80" cy="140" r="1.5" fill="currentColor" class="text-sage-400" filter="url(#glow)"/>
      <line x1="50" y1="50" x2="100" y2="80" stroke="currentColor" stroke-width="0.5" class="text-alchemy-300" opacity="0.6"/>
      <line x1="100" y1="80" x2="150" y2="40" stroke="currentColor" stroke-width="0.5" class="text-mirror-300" opacity="0.6"/>
      <line x1="100" y1="80" x2="120" y2="120" stroke="currentColor" stroke-width="0.5" class="text-flow-300" opacity="0.6"/>
      <line x1="120" y1="120" x2="80" y2="140" stroke="currentColor" stroke-width="0.5" class="text-sage-300" opacity="0.6"/>
    </svg>

    <!-- 🌟 Floating Particles -->
    <div class="floating-particles">
      <div class="particle absolute top-20 left-10 w-2 h-2 bg-alchemy-400 rounded-full opacity-60" data-speed="slow"></div>
      <div class="particle absolute top-40 right-20 w-3 h-3 bg-mirror-400 rounded-full opacity-40" data-speed="medium"></div>
      <div class="particle absolute bottom-32 left-20 w-1 h-1 bg-luna-400 rounded-full opacity-80" data-speed="fast"></div>
      <div class="particle absolute top-60 right-10 w-2 h-2 bg-alchemy-500 rounded-full opacity-50" data-speed="slow"></div>
      <div class="particle absolute bottom-40 left-1/3 w-1.5 h-1.5 bg-flow-400 rounded-full opacity-70" data-speed="medium"></div>
    </div>
  </div>

  <!-- 🎯 Main Content with Enhanced Glassmorphism -->
  <div class="relative z-20 text-center max-w-4xl mx-auto px-4" id="hero-content">
    <!-- 🧊 Enhanced Glassmorphic Container -->
    <div class="glass-mirror p-8 md:p-12 rounded-3xl mb-8 backdrop-blur-md" id="hero-glass">
      <!-- 🌙 Primary Heading -->
      <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-heading font-bold mb-6" id="hero-title">
        <span class="text-gradient-alchemy block">Mirror of</span>
        <span class="text-gradient-mirror block">Inner Alchemy</span>
      </h1>
      
      <!-- ✨ Subtitle -->
      <p class="text-lg sm:text-xl md:text-2xl text-luna-600 dark:text-luna-300 mb-6 font-light" id="hero-subtitle">
        Portfolio of <strong class="font-semibold text-alchemy-600 dark:text-alchemy-400">Thanatsitt Santisamranwilai</strong>
      </p>
      
      <!-- 🔮 Philosophy Statement -->
      <p class="text-base sm:text-lg md:text-xl text-luna-500 dark:text-luna-400 max-w-2xl mx-auto leading-relaxed mb-8" id="hero-philosophy">
        <em class="text-mirror-600 dark:text-mirror-400">"To know the darkness is to know the light that shapes it"</em>
        <br>
        <span class="text-sm sm:text-base opacity-80 mt-2 block">Designer • Storyweaver • Alchemical Thinker</span>
      </p>
    </div>
    
    <!-- 🧭 Action Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-16" id="hero-buttons">
      <Button variant="alchemy" size="lg" href="#about" class="group">
        <span class="flex items-center gap-2">
          🔮 <span>Discover More</span>
        </span>
      </Button>
      <Button variant="ghost" size="lg" href="#projects" class="group">
        <span class="flex items-center gap-2">
          🌙 <span>View Portfolio</span>
        </span>
      </Button>
    </div>
    
    <!-- 🌟 Enhanced Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2" id="scroll-indicator">
      <div class="w-6 h-10 border-2 border-luna-400 dark:border-luna-500 rounded-full flex justify-center relative overflow-hidden">
        <div class="w-1 h-3 bg-gradient-to-b from-alchemy-400 to-mirror-400 rounded-full mt-2 animate-pulse"></div>
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-white/10 to-transparent"></div>
      </div>
      <p class="text-xs text-luna-400 dark:text-luna-500 mt-2 opacity-70">Scroll to explore</p>
    </div>
  </div>

  <!-- 🎭 Tooltip for Symbols -->
  <div id="symbol-tooltip" class="fixed pointer-events-none z-50 px-3 py-2 bg-luna-900 dark:bg-luna-100 text-luna-100 dark:text-luna-900 text-sm rounded-lg shadow-lg opacity-0 transition-opacity duration-200">
    <div class="tooltip-content"></div>
    <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full">
      <div class="w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-luna-900 dark:border-t-luna-100"></div>
    </div>
  </div>
</section>

<!-- 🎭 Enhanced GSAP Animations -->
<script>
  // 🌟 Hero Section Enhanced GSAP Animations
  document.addEventListener('DOMContentLoaded', () => {
    if (typeof gsap !== 'undefined') {
      // 🎯 Master Timeline for coordinated animations
      const heroTl = gsap.timeline({ delay: 0.5 });

      // 🧊 Glass container entrance with breathing effect
      heroTl.fromTo("#hero-glass", {
        scale: 0.8,
        opacity: 0,
        y: 50,
        rotationX: 15
      }, {
        scale: 1,
        opacity: 1,
        y: 0,
        rotationX: 0,
        duration: 1.5,
        ease: "back.out(1.7)"
      });

      // 📝 Title words with staggered entrance
      heroTl.fromTo("#hero-title span", {
        y: 40,
        opacity: 0,
        scale: 0.9,
        rotationX: 20
      }, {
        y: 0,
        opacity: 1,
        scale: 1,
        rotationX: 0,
        duration: 1,
        stagger: 0.3,
        ease: "power3.out"
      }, "-=1");

      // 📝 Subtitle and philosophy
      heroTl.fromTo("#hero-subtitle", {
        y: 30,
        opacity: 0
      }, {
        y: 0,
        opacity: 1,
        duration: 0.8,
        ease: "power2.out"
      }, "-=0.5");

      heroTl.fromTo("#hero-philosophy", {
        y: 20,
        opacity: 0
      }, {
        y: 0,
        opacity: 1,
        duration: 0.8,
        ease: "power2.out"
      }, "-=0.4");

      // 🔘 Buttons with bounce effect
      heroTl.fromTo("#hero-buttons > *", {
        y: 30,
        opacity: 0,
        scale: 0.8
      }, {
        y: 0,
        opacity: 1,
        scale: 1,
        duration: 0.6,
        stagger: 0.15,
        ease: "back.out(1.7)"
      }, "-=0.3");

      // 🌟 Scroll indicator
      heroTl.fromTo("#scroll-indicator", {
        opacity: 0,
        y: 30
      }, {
        opacity: 1,
        y: 0,
        duration: 0.6,
        ease: "power2.out"
      }, "-=0.2");

      // 🜁🜂🜃🜄 Alchemical Symbols Enhanced Animation
      gsap.fromTo(".symbol-container", {
        scale: 0,
        rotation: 180,
        opacity: 0
      }, {
        scale: 1,
        rotation: 0,
        opacity: 1,
        duration: 1.2,
        stagger: {
          amount: 1,
          from: "random"
        },
        ease: "back.out(1.7)",
        delay: 1
      });

      // 🌊 Enhanced floating animations for symbols
      const floatAnimations = [
        { element: "[data-element='air']", y: -15, rotation: 5, duration: 3 },
        { element: "[data-element='earth']", y: -10, rotation: -3, duration: 4 },
        { element: "[data-element='fire']", y: -20, rotation: 8, duration: 2.5 },
        { element: "[data-element='water']", y: -12, rotation: -5, duration: 3.5 },
        { element: "[data-element='quintessence']", y: -18, rotation: 10, duration: 5 }
      ];

      floatAnimations.forEach((anim, index) => {
        gsap.to(anim.element, {
          y: anim.y,
          rotation: anim.rotation,
          repeat: -1,
          yoyo: true,
          duration: anim.duration,
          ease: "sine.inOut",
          delay: index * 0.5
        });
      });

      // ✨ Constellation rotation with pulsing
      gsap.to("#constellation", {
        rotation: 360,
        duration: 40,
        repeat: -1,
        ease: "none"
      });

      gsap.to("#constellation circle", {
        scale: 1.2,
        opacity: 0.8,
        repeat: -1,
        yoyo: true,
        duration: 2,
        stagger: 0.3,
        ease: "sine.inOut"
      });

      // 🌟 Floating particles
      gsap.utils.toArray(".particle").forEach(particle => {
        const speed = particle.dataset.speed;
        const duration = speed === 'fast' ? 4 : speed === 'medium' ? 6 : 8;
        
        gsap.to(particle, {
          y: -20,
          x: 10,
          rotation: 360,
          repeat: -1,
          yoyo: true,
          duration: duration,
          ease: "sine.inOut",
          delay: Math.random() * 2
        });
      });

      // 🎭 Enhanced symbol hover interactions
      document.querySelectorAll('.symbol-container').forEach(symbol => {
        const tooltip = document.getElementById('symbol-tooltip');
        const tooltipContent = tooltip.querySelector('.tooltip-content');
        
        symbol.addEventListener('mouseenter', (e) => {
          const element = e.currentTarget.dataset.element;
          const meaning = e.currentTarget.dataset.meaning;
          
          // Show tooltip
          tooltipContent.textContent = `${element.charAt(0).toUpperCase() + element.slice(1)}: ${meaning}`;
          tooltip.style.opacity = '1';
          
          // Enhanced hover animation
          gsap.to(symbol, {
            scale: 1.4,
            rotation: "+=20",
            duration: 0.4,
            ease: "back.out(1.7)"
          });
          
          // Glow effect
          gsap.to(symbol.querySelector('svg'), {
            filter: "drop-shadow(0 0 12px currentColor)",
            duration: 0.3
          });
        });

        symbol.addEventListener('mouseleave', () => {
          // Hide tooltip
          tooltip.style.opacity = '0';
          
          // Reset animation
          gsap.to(symbol, {
            scale: 1,
            rotation: "-=20",
            duration: 0.4,
            ease: "power2.out"
          });
          
          gsap.to(symbol.querySelector('svg'), {
            filter: "drop-shadow(0 0 0 transparent)",
            duration: 0.3
          });
        });

        symbol.addEventListener('mousemove', (e) => {
          const tooltip = document.getElementById('symbol-tooltip');
          tooltip.style.left = e.clientX + 'px';
          tooltip.style.top = e.clientY - 60 + 'px';
        });
      });

      // 🌟 Scroll indicator animation
      gsap.to("#scroll-indicator", {
        y: 10,
        repeat: -1,
        yoyo: true,
        duration: 2,
        ease: "sine.inOut",
        delay: 3
      });

      // 🔮 Glass container subtle breathing effect
      gsap.to("#hero-glass", {
        scale: 1.01,
        repeat: -1,
        yoyo: true,
        duration: 6,
        ease: "sine.inOut",
        delay: 4
      });

      // 📱 Responsive adjustments
      ScrollTrigger.matchMedia({
        "(max-width: 768px)": function() {
          gsap.set(".symbol-container", { scale: 0.7 });
          gsap.set("#constellation", { scale: 0.8 });
        },
        "(min-width: 769px)": function() {
          gsap.set(".symbol-container", { scale: 1 });
          gsap.set("#constellation", { scale: 1 });
        }
      });
    }
  });
</script>

<style>
  /* 🎨 Enhanced Hero Styles */
  .symbol-container {
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
    transition: filter 0.3s ease;
    cursor: pointer;
  }

  .symbol-container:hover {
    filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.2));
  }

  /* 🌟 Enhanced glass effect */
  #hero-glass {
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(168, 85, 247, 0.3);
  }

  #hero-glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.8s ease;
  }

  #hero-glass:hover::before {
    left: 100%;
  }

  /* 🎭 Button hover effects */
  .group:hover {
    transform: translateY(-2px);
  }

  /* 🌟 Floating particles */
  .particle {
    animation: float 6s ease-in-out infinite;
  }

  .particle[data-speed="fast"] {
    animation-duration: 4s;
  }

  .particle[data-speed="medium"] {
    animation-duration: 6s;
  }

  .particle[data-speed="slow"] {
    animation-duration: 8s;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }

  /* 📱 Responsive optimizations */
  @media (max-width: 640px) {
    .symbol-container {
      transform: scale(0.8);
    }
    
    #constellation {
      width: 80px;
      height: 80px;
    }
    
    .floating-particles .particle {
      transform: scale(0.8);
    }
  }

  /* ♿ Accessibility */
  @media (prefers-reduced-motion: reduce) {
    .symbol-container,
    .particle,
    #constellation {
      animation: none !important;
    }
  }

  /* 🌙 Dark mode enhancements */
  @media (prefers-color-scheme: dark) {
    #hero-glass {
      border-color: rgba(168, 85, 247, 0.2);
      background: rgba(0, 0, 0, 0.2);
    }
  }
</style>
